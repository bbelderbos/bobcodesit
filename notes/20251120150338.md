# Logging memory usage

Cool debugging trick I picked up from:

Django bulk_update memory issue
https://blog.pecar.me/django-bulk-update-memory-issue

Logging memory usage in #Python using psutil ðŸ‘‡

```
# /// script
# dependencies = [
#   "psutil",
# ]
# ///
import psutil

process = psutil.Process()


def mb_used() -> int:
    return process.memory_info().rss // (1024 * 1024)


print("Before:", mb_used(), "MB")
numbers = [i for i in range(10_000_000)]
print(sum(numbers))
print("After: ", mb_used(), "MB")

# Example output on my machine:
# Before: 13 MB
# 49999995000000
# After:  399 MB

# If you change the list to a generator:
# numbers = (i for i in range(10_000_000))
# you'll get:
# After:  13 MB   # same result, constant memory
```

#debugging
