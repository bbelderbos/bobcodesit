# Avoid accidental shared references in Python 🐍

Using `[[0] * width] * height` creates multiple references to the same inner list.

Updating one row updates them all because they point to the same object! 😱

Use a list comprehension (`[[0 for _ in range(width)] for _ in range(height)]`) to create independent rows.

```
>>> width, height = 4, 3
>>> grid = [[0] * width] * height
>>> grid[1][2] = 1
>>> from pprint import pp
>>> pp(grid)
[[0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0]]
>>> pp([id(row) for row in grid])
[4530163840, 4530163840, 4530163840]
>>> grid = [[0 for _ in range(width)] for _ in range(height)]
>>> grid[1][2] = 1
>>> pp(grid)
[[0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0]]
>>> pp([id(row) for row in grid])
[4532347520, 4532202368, 4532287680]
```

#gotchas
