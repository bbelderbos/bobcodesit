# PyPI Trusted Publishing - No More API Tokens

PyPI now supports trusted publishing via OpenID Connect (OIDC). Instead of managing API tokens, you let PyPI verify requests came from your GitHub Actions workflow directly.

Set it up once on PyPI, then your workflow just needs two permissions:

```yaml
permissions:
  contents: write
  id-token: write  # This enables OIDC auth

jobs:
  publish:
    steps:
      - uses: actions/checkout@v4
      - run: uv build
      - uses: pypa/gh-action-pypi-publish@release/v1
        # No token parameter needed!
```

Configure the trust relationship at pypi.org/manage/account/publishing/ by adding your repo, owner, and workflow filename. For existing packages, find it under Publishing settings.

No secrets to rotate. No tokens to leak. Just push a tag and ship.

Source: https://www.loopwerk.io/articles/2025/automate-python-releases/

#packaging #github
