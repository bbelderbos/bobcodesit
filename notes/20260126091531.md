# State machines in Django with transitions

Stop writing scattered if-statements to manage workflow states. The `transitions` library makes it declarative.

```python
from transitions import Machine, MachineError

TRANSITIONS = [
    {"trigger": "submit", "source": "draft", "dest": "review", "after": "notify_reviewer"},
    {"trigger": "approve", "source": "review", "dest": "approved"},
    {"trigger": "reject", "source": "review", "dest": "draft"},
    {"trigger": "publish", "source": "approved", "dest": "published"},
]

class ContentWorkflow:
    def notify_reviewer(self):
        print(f"Notifying reviewer about {self.content}")

content = ContentWorkflow()
content.content = "My blog post"

machine = Machine(
    model=content,
    states=["draft", "review", "approved", "published"],
    initial="draft",
    transitions=TRANSITIONS,
)

content.submit()  # Works: draft -> review
content.publish()  # Raises MachineError: can't publish from review
```

The library auto-generates trigger methods and blocks invalid transitions. Your workflow becomes self-documenting config instead of spaghetti logic.

#python #django #statemachine #transitions #workflow
