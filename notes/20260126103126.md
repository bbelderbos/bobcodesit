# Auto-discover documentation pages from markdown with YAML frontmatter

Skip the database for documentation. Drop markdown files in a folder, parse YAML frontmatter for metadata, and auto-discover them at runtime.

I used this the other day to build an internal docs site for our upcoming content creations tool:

```python
from dataclasses import dataclass
from pathlib import Path
import yaml
import markdown

@dataclass
class DocPage:
    slug: str
    title: str
    section: str
    order: int
    content_html: str

def parse_frontmatter(content: str) -> tuple[dict, str]:
    """Split YAML frontmatter from markdown body."""
    if content.startswith("---"):
        parts = content.split("---", 2)
        if len(parts) >= 3:
            return yaml.safe_load(parts[1]) or {}, parts[2].strip()
    return {}, content

def load_docs(docs_dir: Path) -> list[DocPage]:
    """Auto-discover and load all markdown docs."""
    pages = []
    for md_file in docs_dir.glob("*.md"):
        content = md_file.read_text()
        meta, body = parse_frontmatter(content)

        pages.append(DocPage(
            slug=md_file.stem,
            title=meta.get("title", md_file.stem),
            section=meta.get("section", "General"),
            order=meta.get("order", 99),
            content_html=markdown.markdown(body, extensions=["fenced_code", "tables"]),
        ))

    return sorted(pages, key=lambda p: (p.section, p.order))

# Example markdown file (docs/quickstart.md):
# ---
# title: Quick Start
# section: Getting Started
# order: 1
# ---
# # Getting Started
# Your content here...
```

No migrations, no admin panel, no CMS. Just markdown files that become pages. Perfect for internal docs, help pages, or changelogs.

#yaml #documentation
